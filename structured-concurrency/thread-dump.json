{
  "threadDump": {
    "processId": "7974",
    "time": "2024-09-10T15:53:42.306383Z",
    "runtimeVersion": "21.0.2+13-LTS",
    "threadContainers": [
      {
        "container": "<root>",
        "parent": null,
        "owner": null,
        "threads": [
         {
           "tid": "1",
           "name": "main",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.park(LockSupport.java:371)",
              "java.base\/jdk.internal.misc.ThreadFlock.awaitAll(ThreadFlock.java:315)",
              "java.base\/java.util.concurrent.StructuredTaskScope.implJoin(StructuredTaskScope.java:621)",
              "java.base\/java.util.concurrent.StructuredTaskScope.join(StructuredTaskScope.java:650)",
              "java.base\/java.util.concurrent.StructuredTaskScope$ShutdownOnFailure.join(StructuredTaskScope.java:1241)",
              "software.amazon.awssdk.CoffeeExample.brewCoffee(CoffeeExample.java:99)",
              "software.amazon.awssdk.CoffeeExample.main(CoffeeExample.java:140)"
           ]
         },
         {
           "tid": "9",
           "name": "Reference Handler",
           "stack": [
              "java.base\/java.lang.ref.Reference.waitForReferencePendingList(Native Method)",
              "java.base\/java.lang.ref.Reference.processPendingReferences(Reference.java:246)",
              "java.base\/java.lang.ref.Reference$ReferenceHandler.run(Reference.java:208)"
           ]
         },
         {
           "tid": "10",
           "name": "Finalizer",
           "stack": [
              "java.base\/java.lang.Object.wait0(Native Method)",
              "java.base\/java.lang.Object.wait(Object.java:366)",
              "java.base\/java.lang.Object.wait(Object.java:339)",
              "java.base\/java.lang.ref.NativeReferenceQueue.await(NativeReferenceQueue.java:48)",
              "java.base\/java.lang.ref.ReferenceQueue.remove0(ReferenceQueue.java:158)",
              "java.base\/java.lang.ref.NativeReferenceQueue.remove(NativeReferenceQueue.java:89)",
              "java.base\/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:173)"
           ]
         },
         {
           "tid": "11",
           "name": "Signal Dispatcher",
           "stack": [
           ]
         },
         {
           "tid": "18",
           "name": "Common-Cleaner",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)",
              "java.base\/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1847)",
              "java.base\/java.lang.ref.ReferenceQueue.await(ReferenceQueue.java:71)",
              "java.base\/java.lang.ref.ReferenceQueue.remove0(ReferenceQueue.java:143)",
              "java.base\/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:218)",
              "java.base\/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:140)",
              "java.base\/java.lang.Thread.run(Thread.java:1583)",
              "java.base\/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:186)"
           ]
         },
         {
           "tid": "19",
           "name": "Monitor Ctrl-Break",
           "stack": [
              "java.base\/sun.nio.ch.SocketDispatcher.read0(Native Method)",
              "java.base\/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:47)",
              "java.base\/sun.nio.ch.NioSocketImpl.tryRead(NioSocketImpl.java:256)",
              "java.base\/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:307)",
              "java.base\/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)",
              "java.base\/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)",
              "java.base\/java.net.Socket$SocketInputStream.read(Socket.java:1099)",
              "java.base\/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:329)",
              "java.base\/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:372)",
              "java.base\/sun.nio.cs.StreamDecoder.lockedRead(StreamDecoder.java:215)",
              "java.base\/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:169)",
              "java.base\/java.io.InputStreamReader.read(InputStreamReader.java:188)",
              "java.base\/java.io.BufferedReader.fill(BufferedReader.java:160)",
              "java.base\/java.io.BufferedReader.implReadLine(BufferedReader.java:370)",
              "java.base\/java.io.BufferedReader.readLine(BufferedReader.java:347)",
              "java.base\/java.io.BufferedReader.readLine(BufferedReader.java:436)",
              "com.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:53)"
           ]
         },
         {
           "tid": "20",
           "name": "Notification Thread",
           "stack": [
           ]
         }
        ],
        "threadCount": "7"
      },
      {
        "container": "ForkJoinPool.commonPool\/jdk.internal.vm.SharedThreadContainer@2b6f6218",
        "parent": "<root>",
        "owner": null,
        "threads": [
        ],
        "threadCount": "0"
      },
      {
        "container": "java.util.concurrent.ScheduledThreadPoolExecutor@404b9385",
        "parent": "<root>",
        "owner": null,
        "threads": [
         {
           "tid": "27",
           "name": "VirtualThread-unparker",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)",
              "java.base\/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)",
              "java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)",
              "java.base\/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)",
              "java.base\/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)",
              "java.base\/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)",
              "java.base\/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)",
              "java.base\/java.lang.Thread.run(Thread.java:1583)",
              "java.base\/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:186)"
           ]
         }
        ],
        "threadCount": "1"
      },
      {
        "container": "ForkJoinPool-1\/jdk.internal.vm.SharedThreadContainer@6b47f546",
        "parent": "<root>",
        "owner": null,
        "threads": [
         {
           "tid": "22",
           "name": "ForkJoinPool-1-worker-1",
           "stack": [
              "java.base\/jdk.internal.vm.Continuation.run(Continuation.java:251)",
              "java.base\/java.lang.VirtualThread.runContinuation(VirtualThread.java:221)",
              "java.base\/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1423)",
              "java.base\/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)",
              "java.base\/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)",
              "java.base\/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)",
              "java.base\/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)",
              "java.base\/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)"
           ]
         },
         {
           "tid": "23",
           "name": "ForkJoinPool-1-worker-2",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.parkUntil(LockSupport.java:449)",
              "java.base\/java.util.concurrent.ForkJoinPool.awaitWork(ForkJoinPool.java:1891)",
              "java.base\/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1809)",
              "java.base\/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)"
           ]
         },
         {
           "tid": "25",
           "name": "ForkJoinPool-1-worker-3",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.park(LockSupport.java:371)",
              "java.base\/java.util.concurrent.ForkJoinPool.awaitWork(ForkJoinPool.java:1893)",
              "java.base\/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1809)",
              "java.base\/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)"
           ]
         },
         {
           "tid": "28",
           "name": "ForkJoinPool-1-worker-4",
           "stack": [
              "java.base\/jdk.internal.misc.Unsafe.park(Native Method)",
              "java.base\/java.util.concurrent.locks.LockSupport.park(LockSupport.java:371)",
              "java.base\/java.util.concurrent.ForkJoinPool.awaitWork(ForkJoinPool.java:1893)",
              "java.base\/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1809)",
              "java.base\/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)"
           ]
         }
        ],
        "threadCount": "4"
      },
      {
        "container": "java.util.concurrent.ThreadPoolExecutor@2a824bf1",
        "parent": "<root>",
        "owner": null,
        "threads": [
        ],
        "threadCount": "0"
      },
      {
        "container": "coffee-brewer-thread\/jdk.internal.misc.ThreadFlock$ThreadContainerImpl@5650b3c",
        "parent": "<root>",
        "owner": "1",
        "threads": [
         {
           "tid": "21",
           "name": "brewer",
           "stack": [
              "java.base\/java.lang.VirtualThread.parkNanos(VirtualThread.java:621)",
              "java.base\/java.lang.VirtualThread.sleepNanos(VirtualThread.java:791)",
              "java.base\/java.lang.Thread.sleep(Thread.java:556)",
              "java.base\/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)",
              "software.amazon.awssdk.CoffeeExample.fillKettle(CoffeeExample.java:30)",
              "software.amazon.awssdk.CoffeeExample.lambda$brewCoffee$0(CoffeeExample.java:88)",
              "java.base\/java.util.concurrent.StructuredTaskScope$SubtaskImpl.run(StructuredTaskScope.java:889)",
              "java.base\/java.lang.VirtualThread.run(VirtualThread.java:309)"
           ]
         },
         {
           "tid": "24",
           "name": "brewer",
           "stack": [
              "java.base\/java.lang.VirtualThread.parkNanos(VirtualThread.java:621)",
              "java.base\/java.lang.VirtualThread.sleepNanos(VirtualThread.java:791)",
              "java.base\/java.lang.Thread.sleep(Thread.java:556)",
              "java.base\/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)",
              "software.amazon.awssdk.CoffeeExample.grindCoffee(CoffeeExample.java:53)",
              "software.amazon.awssdk.CoffeeExample.lambda$brewCoffee$1(CoffeeExample.java:91)",
              "java.base\/java.util.concurrent.StructuredTaskScope$SubtaskImpl.run(StructuredTaskScope.java:889)",
              "java.base\/java.lang.VirtualThread.run(VirtualThread.java:309)"
           ]
         },
         {
           "tid": "26",
           "name": "brewer",
           "stack": [
              "java.base\/java.lang.Thread.getStackTrace(Thread.java:2450)",
              "java.base\/jdk.internal.vm.ThreadDumper.dumpThreadToJson(ThreadDumper.java:270)",
              "java.base\/jdk.internal.vm.ThreadDumper.dumpThreadsToJson(ThreadDumper.java:242)",
              "java.base\/jdk.internal.vm.ThreadDumper.dumpThreadsToJson(ThreadDumper.java:206)",
              "java.base\/jdk.internal.vm.ThreadDumper.dumpThreadsToJson(ThreadDumper.java:181)",
              "jdk.management\/com.sun.management.internal.HotSpotDiagnostic.dumpThreads(HotSpotDiagnostic.java:197)",
              "jdk.management\/com.sun.management.internal.HotSpotDiagnostic.lambda$dumpThreads$1(HotSpotDiagnostic.java:178)",
              "java.base\/java.security.AccessController.doPrivileged(AccessController.java:571)",
              "jdk.management\/com.sun.management.internal.HotSpotDiagnostic.dumpThreads(HotSpotDiagnostic.java:182)",
              "java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)",
              "java.base\/java.lang.reflect.Method.invoke(Method.java:580)",
              "sun.reflect.misc.Trampoline.invoke(MethodUtil.java:64)",
              "java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)",
              "java.base\/java.lang.reflect.Method.invoke(Method.java:580)",
              "java.base\/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:97)",
              "java.management\/com.sun.jmx.mbeanserver.ConvertingMethod.invokeWithOpenReturn(ConvertingMethod.java:193)",
              "java.management\/com.sun.jmx.mbeanserver.ConvertingMethod.invokeWithOpenReturn(ConvertingMethod.java:175)",
              "java.management\/com.sun.jmx.mbeanserver.MXBeanIntrospector.invokeM2(MXBeanIntrospector.java:115)",
              "java.management\/com.sun.jmx.mbeanserver.MXBeanIntrospector.invokeM2(MXBeanIntrospector.java:52)",
              "java.management\/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:236)",
              "java.management\/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)",
              "java.management\/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)",
              "java.management\/javax.management.StandardMBean.invoke(StandardMBean.java:405)",
              "java.management\/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)",
              "java.management\/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)",
              "java.management\/com.sun.jmx.mbeanserver.MXBeanProxy$InvokeHandler.invoke(MXBeanProxy.java:150)",
              "java.management\/com.sun.jmx.mbeanserver.MXBeanProxy.invoke(MXBeanProxy.java:167)",
              "java.management\/javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:258)",
              "jdk.proxy1\/jdk.proxy1.$Proxy2.dumpThreads(Unknown Source)",
              "software.amazon.awssdk.CoffeeExample.dumpThreadAfter(CoffeeExample.java:150)",
              "software.amazon.awssdk.CoffeeExample.lambda$brewCoffee$2(CoffeeExample.java:93)",
              "java.base\/java.util.concurrent.StructuredTaskScope$SubtaskImpl.run(StructuredTaskScope.java:889)",
              "java.base\/java.lang.VirtualThread.run(VirtualThread.java:309)"
           ]
         }
        ],
        "threadCount": "3"
      }
    ]
  }
}
